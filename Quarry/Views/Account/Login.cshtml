@model QuarryManagementSystem.ViewModels.LoginViewModel
@{
    ViewData["Title"] = "Login";
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>@ViewData["Title"] - Quarry NG</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root{
            --bg-1:#0b1020;
            --bg-2:#121a2e;
            --bg-3:#1e1b2c;
            --brand-g:#008753;
            --brand-o:#ff6b35;
            --accent-1:#6366f1;
            --accent-2:#7c3aed;
            --ink:#0f172a;
            --muted:#94a3b8;
        }
        *{box-sizing:border-box}
        html,body{height:100%}
        body{
            margin:0;
            font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
            color:#111827;
            background:
                radial-gradient(1200px 600px at -10% -10%, #1e293b 15%, rgba(30,41,59,0) 60%),
                radial-gradient(900px 500px at 110% -10%, #0f766e 15%, rgba(15,118,110,0) 60%),
                radial-gradient(900px 600px at 50% 120%, #4c1d95 5%, rgba(76,29,149,0) 60%),
                linear-gradient(135deg, var(--bg-1) 0%, var(--bg-2) 40%, var(--bg-3) 100%);
            display:flex;align-items:center;justify-content:center;
        }
        body::before{
            content:"";position:fixed;inset:0;pointer-events:none;
            background-image: radial-gradient(rgba(255,255,255,.06) 1px, transparent 1px);
            background-size:22px 22px;mix-blend-mode:screen;
        }
        .layout{
            width:100%;max-width:1100px;margin:42px 18px;
            display:grid;grid-template-columns: 1.1fr .9fr; gap:28px;
        }
        @@media (max-width: 980px){ .layout{grid-template-columns:1fr} .hero{display:none} }
        .card{
            background:rgba(255,255,255,.06);
            border:1px solid rgba(255,255,255,.25);
            backdrop-filter: blur(14px) saturate(140%);
            -webkit-backdrop-filter: blur(14px) saturate(140%);
            border-radius:22px; box-shadow:0 30px 80px rgba(0,0,0,.35);
            overflow:hidden;
        }
        .hero{color:rgba(255,255,255,.92); padding:38px;}
        .badge{
            display:inline-flex;align-items:center;gap:10px;
            background:linear-gradient(90deg, var(--brand-g), #ffffff 55%, var(--brand-o));
            color:#0a0a0a;font-weight:700;letter-spacing:.4px;
            padding:8px 14px;border-radius:999px;box-shadow:0 8px 24px rgba(0,0,0,.28)
        }
        .hero h1{margin:22px 0 10px;font-weight:800;font-size:34px}
        .hero p{color:rgba(255,255,255,.78); margin:0 0 18px}
        .hero ul{margin:18px 0 0 0; padding:0; list-style:none}
        .hero li{display:flex;gap:10px; color:rgba(255,255,255,.75); margin:8px 0}
        .hero li i{color:#60a5fa; margin-top:2px}
        .panel{background:#fff;border-radius:22px; overflow:hidden}
        .panel-head{
            padding:26px 28px 16px 28px; border-bottom:1px solid #eef0f4;
            background:
              radial-gradient(600px 120px at 20% -30%, rgba(0,135,83,.18), transparent 60%),
              radial-gradient(600px 120px at 80% -35%, rgba(255,107,53,.18), transparent 60%),
              linear-gradient(180deg,#ffffff, #fbfbfe);
        }
        .title{margin:0;font-size:22px;font-weight:800;color:var(--ink)}
        .flag{height:4px;background:linear-gradient(90deg,var(--brand-g),#ffffff 50%,var(--brand-o));border-radius:2px;width:160px;margin-top:10px}
        .panel-body{padding:26px 28px 28px 28px}
        .input-wrap{position:relative}
        input[type="text"], input[type="password"]{
            width:100%;height:50px;border-radius:12px;border:1.8px solid #e7e9ee;
            padding:12px 44px 12px 16px;font-size:15px;outline:none;
            transition:border .2s, box-shadow .2s;
        }
        input:focus{border-color:var(--accent-1); box-shadow:0 0 0 .2rem rgba(99,102,241,.15)}
        .icon{position:absolute;right:16px;top:50%;transform:translateY(-50%);color:#98a2b3}
        .eye{position:absolute;right:42px;top:50%;transform:translateY(-50%);color:#94a3b8;cursor:pointer}
        .remember{display:flex;align-items:center;gap:8px;color:#334155;margin-top:2px}
        .btn{
            height:50px;border-radius:12px;border:0;color:#fff;font-weight:800;letter-spacing:.4px;
            background:linear-gradient(135deg,var(--accent-1) 0%, var(--accent-2) 100%);
            box-shadow:0 10px 20px rgba(99,102,241,.35);cursor:pointer;
            transition:transform .12s ease, box-shadow .12s ease, filter .12s ease;
        }
        .btn:hover{transform:translateY(-1px); filter:saturate(108%); box-shadow:0 14px 28px rgba(99,102,241,.35)}
        .btn.loading{opacity:.85; pointer-events:none}
        .btn.loading::after{content:"";display:inline-block;margin-left:10px;width:16px;height:16px;border-radius:50%;border:2px solid rgba(255,255,255,.9);border-top-color:transparent;animation:spin .6s linear infinite}
        @@keyframes spin{to{transform:rotate(360deg)}}
        .divider{display:flex;align-items:center;gap:10px;margin:18px 0;color:#64748b;font-size:12.5px}
        .divider::before,.divider::after{content:"";flex:1;height:1px;background:#e8ebf3}
        .chips{display:flex;flex-wrap:wrap;gap:8px}
        .chip{display:inline-flex;align-items:center;gap:8px;border:1px dashed #e0e4ee;border-radius:999px;padding:6px 12px;background:#f8fafc;font-size:13px;color:#1f2937}
        .chip .copy{cursor:pointer;color:var(--accent-1)}
        .chip .copy:hover{color:#4f46e5}
        .val{background:#fff1f2;border:1px solid #fecdd3;color:#be123c;border-radius:12px;padding:10px 12px;margin-bottom:14px;font-size:13px}
        .foot{font-size:12px;color:#94a3b8;text-align:center;padding-top:14px}
        .brand-logo{
            height:114px;
            width:auto;
            max-width:none;
            object-fit:contain;
            border-radius:10px;
            background:transparent;
            box-shadow:0 6px 16px rgba(0,0,0,.25)
        }
    </style>
</head>
<body>
    <div class="layout">
        <aside class="card hero">
            <span class="badge"><i class="fa-solid fa-mountain"></i> TRACO MINING • NG</span>
            <h1>Modern Quarry Management</h1>
            <p>All-in-one platform for weighment, quotations, invoices and analytics.</p>
            <ul>
                <li><i class="fa-regular fa-circle-check"></i> Role-based access: Admin, Manager, Accountant, Operator</li>
                <li><i class="fa-regular fa-circle-check"></i> Nigerian VAT-ready invoicing with printing</li>
                <li><i class="fa-regular fa-circle-check"></i> Real-time dashboard and insights</li>
            </ul>
        </aside>
        <section class="panel">
            <div class="panel-head">
                <div class="d-flex" style="display:flex;align-items:center;justify-content:space-between">
                    <div>
                        <h2 class="title">Sign in to your account</h2>
                        <div class="flag"></div>
                    </div>
                    <div>
                        <img src="~/images/quarrylogo.png" alt="TRACO MINING LTD. Nigeria" class="brand-logo" onerror="this.onerror=null;this.src='/images/traco-logo.png';" />
                    </div>
                </div>
            </div>
            <div class="panel-body">
                <div asp-validation-summary="ModelOnly" class="val" style="display:@(ViewData.ModelState?.IsValid==false ? "block" : "none")"></div>
                <form asp-action="Login" method="post" id="loginForm" asp-antiforgery="true">
                    <div class="form-group">
                        <label for="Username" class="text-secondary small" style="color:#6b7280;font-size:12px">Username</label>
                        <div class="input-wrap">
                            <input asp-for="Username" id="Username" name="Username" type="text" placeholder="e.g. admin" autocomplete="username" />
                            <i class="fas fa-user icon"></i>
                        </div>
                        <span asp-validation-for="Username" class="text-danger"></span>
                    </div>
                    <div class="form-group" style="margin-top:14px">
                        <div class="d-flex" style="display:flex;align-items:center;justify-content:space-between">
                            <label for="Password" class="text-secondary small" style="color:#6b7280;font-size:12px">Password</label>
                            <small id="caps" style="display:none;color:#eab308"><i class="fa-solid fa-triangle-exclamation"></i> Caps Lock is ON</small>
                        </div>
                        <div class="input-wrap">
                            <input asp-for="Password" id="Password" name="Password" type="password" placeholder="Your secure password" autocomplete="current-password" />
                            <i class="fas fa-eye eye" id="eye" title="Show/Hide password"></i>
                            <i class="fas fa-lock icon"></i>
                        </div>
                        <span asp-validation-for="Password" class="text-danger"></span>
                    </div>
                    <div class="remember" style="margin:14px 0 18px 0">
                        <input asp-for="RememberMe" id="rememberMe" type="checkbox">
                        <label asp-for="RememberMe" class="mb-0">Keep me signed in</label>
                    </div>
                    <button class="btn btn-block" type="submit" style="width:100%"><i class="fa-solid fa-arrow-right-to-bracket mr-2"></i> Sign In</button>
                </form>
                <div class="divider"><span>Quick demo</span></div>
                <div class="chips">
                    <span class="chip">Username: <strong>admin</strong> <i class="fa-regular fa-copy copy" data-copy="admin" title="Copy"></i></span>
                    <span class="chip">Password: <strong>Admin@2024</strong> <i class="fa-regular fa-copy copy" data-copy="Admin@2024" title="Copy"></i></span>
                    <button id="fill" type="button" class="btn" style="height:36px;padding:0 12px;border-radius:999px"><i class="fa-solid fa-wand-magic-sparkles mr-1"></i> Fill & Focus</button>
                </div>
                <div class="foot">
                    <i class="fa-solid fa-shield-halved mr-1"></i> Secure Login • © 2024 TRACO Mining Ltd.
                </div>
            </div>
        </section>
    </div>
    <script>
        (function(){
            const btn = document.querySelector('.btn');
            const form = document.getElementById('loginForm');
            form.addEventListener('submit', function(){
                btn.classList.add('loading');
                btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin mr-2"></i> Signing in...';
            });
            // toggle eye
            const pwd = document.getElementById('Password');
            const eye = document.getElementById('eye');
            eye.addEventListener('click', function(){
                const isPwd = pwd.type === 'password';
                pwd.type = isPwd ? 'text' : 'password';
                this.classList.toggle('fa-eye');
                this.classList.toggle('fa-eye-slash');
            });
            // caps lock notice
            const caps = document.getElementById('caps');
            ['keyup','keydown'].forEach(ev => {
                pwd.addEventListener(ev, function(e){
                    const on = e.getModifierState && e.getModifierState('CapsLock');
                    caps.style.display = on ? 'inline' : 'none';
                });
            });
            // fill demo + copy chips
            document.getElementById('fill').addEventListener('click', function(){
                document.getElementById('Username').value = 'admin';
                pwd.value = 'Admin@2024';
                document.getElementById('Username').focus();
            });
            document.querySelectorAll('.copy').forEach(el=>{
                el.addEventListener('click', ()=>navigator.clipboard && navigator.clipboard.writeText(el.dataset.copy||''));
            });
        })();
    </script>
</body>
</html>